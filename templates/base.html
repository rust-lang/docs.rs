{%- import "macros.html" as macros -%}

<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="generator" content="docs.rs {{ docsrs_version() }}">
        {%- block meta -%}{%- endblock meta -%}

        {# Docs.rs styles #}
        <link rel="stylesheet" href="/-/static/vendored.css?{{ docsrs_version() | slugify }}" media="all" />
        <link rel="stylesheet" href="/-/static/style.css?{{ docsrs_version() | slugify }}" media="all" />

        <link rel="search" href="/-/static/opensearch.xml" type="application/opensearchdescription+xml" title="Docs.rs" />

        <title>{%- block title -%} Docs.rs {%- endblock title -%}</title>

        {% if config.sentry_dsn %}
            <script
                src="https://browser.sentry-cdn.com/7.105.0/bundle.tracing.min.js"
                integrity="sha384-XFfw9fN0ZxeLnveKcWT/zLOcibWw9ewRfNiUu/teAuMfP4G3Oy7lLh7rN3rX2T7M"
                crossorigin="anonymous"
            ></script>

            <script nonce="{{ csp_nonce }}">
                Sentry.init({
                    dsn: "{{ config.sentry_dsn | safe }}",
                    release: "{{ docsrs_version() }}",
                    integrations: [
                        // potentially override transaction name later
                        // https://docs.sentry.io/platforms/javascript/performance/troubleshooting/
                        Sentry.browserTracingIntegration()
                    ],
                    tracesSampleRate: {{ config.sentry_traces_sample_rate }},
                });
            </script>
        {% endif %}

        <script nonce="{{ csp_nonce }}">{%- include "theme.js" -%}</script>
        {%- block css -%}{%- endblock css -%}

        <script defer type="text/javascript" nonce="{{ csp_nonce }}" src="/-/static/menu.js?{{ docsrs_version() | slugify }}"></script>
        <script defer type="text/javascript" nonce="{{ csp_nonce }}" src="/-/static/index.js?{{ docsrs_version() | slugify }}"></script>
    </head>

    <body class="{% block body_classes %}{% endblock body_classes %}">
        {%- block topbar -%}
            {%- include "header/topbar.html" -%}
        {%- endblock topbar -%}

        {%- block header %}{% endblock header -%}

        {%- block body -%}{%- endblock body -%}

        {%- block javascript -%}{%- endblock javascript -%}
    </body>
</html>
